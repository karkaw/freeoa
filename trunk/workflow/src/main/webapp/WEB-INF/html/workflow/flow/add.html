<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xmlns:t>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
    <!-- Title and other stuffs -->
    <title>流程定义管理</title>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="" />

    <#include "/html/head.html"/>
    <@head />

    <link type="text/css" href="${res}/myflow/css/myflow.css" rel="stylesheet" />

    <script type="text/javascript" src="${res}/myflow/lib/raphael-min.js"></script>
    <script type="text/javascript" src="${res}/myflow/myflow.js"></script>
    <script type="text/javascript" src="${res}/myflow/myflow.jpdl3.js"></script>
    <script type="text/javascript" src="${res}/myflow/myflow.editors.js"></script>



    <script type="text/javascript">
        $(function(){
            $(function() {
                $('#myflow')
                        .myflow(
                        {
                            basePath : "${res}/myflow/",
                            restore :{},
                            tools : {
                                save : {
                                    onclick : function(data) {
                                        alert('save:\n' + data);
                                    }
                                }
                            }
                        });

            });
        });
    </script>

    <style type="text/css">

    </style>
</head>

<body>
	<!-- Header starts -->
	<#include "/html/header.html"/>
	<!-- Header ends -->

	<!-- Main starts -->
	<div class="main-container" id="main-container">
		<div class="main-container-inner">
			<#include "/html/sidebar.html"/>

			<div class="main-content">
				<div class="breadcrumbs" id="breadcrumbs">
					<ul class="breadcrumb">
						<li><i class="icon-home home-icon"></i> <a href="#">首页</a></li>
						<li class="active">控制台</li>
					</ul>
					<!-- .breadcrumb -->

					<div class="nav-search" id="nav-search">
						<form class="form-search">
							<span class="input-icon"> <input type="text"
								placeholder="Search ..." class="nav-search-input"
								id="nav-search-input" autocomplete="off" /> <i
								class="icon-search nav-search-icon"></i>
							</span>
						</form>
					</div>
					<!-- #nav-search -->
				</div>

				<!-- page-content stats -->
				<div class="page-content">
					<div class="row"  style="height: auto">
						<div class="col-xs-12">
							<@ui.widget title="添加流程定义" id="addUserName">
                                    <div  id="myflow_tools" style="padding: 0px;margin-left:10px">
                                        <div id="myflow_tools_handle" style="text-align: center;" class="ui-widget-header">工具集</div>
                                        <div class="node" id="myflow_save"><img src="${res}/myflow/img/save.gif" />&nbsp;&nbsp;保存</div>
                                        <div>
                                            <hr />
                                        </div>
                                        <div class="node selectable" id="pointer">
                                            <img  src="${res}/myflow/img/select16.gif" />&nbsp;&nbsp;选择
                                        </div>
                                        <div class="node selectable" id="path">
                                            <img src="${res}/myflow/img/16/flow_sequence.png" />&nbsp;&nbsp;连接
                                        </div>
                                        <div>
                                            <hr />
                                        </div>
                                        <div class="node state" id="start" type="start">
                                            <img src="${res}/myflow/img/16/start_event_empty.png" />&nbsp;&nbsp;开始
                                        </div>
                                        <div class="node state" id="task" type="task">
                                            <img src="${res}/myflow/img/16/task_empty.png" />&nbsp;&nbsp;任务
                                        </div>
                                        <div class="node state" id="fork" type="fork">
                                            <img src="${res}/myflow/img/16/gateway_parallel.png" />&nbsp;&nbsp;分支
                                        </div>
                                        <div class="node state" id="join" type="join">
                                            <img src="${res}/myflow/img/16/gateway_parallel.png" />&nbsp;&nbsp;合并
                                        </div>
                                        <div class="node state" id="end" type="end">
                                            <img src="${res}/myflow/img/16/end_event_terminate.png" />&nbsp;&nbsp;结束
                                        </div>
                                    </div>
                                    <div  id="myflow" style="background-image: url('${res}/myflow/img/bg.png') ">

                                    </div>
                                    <div  id="myflow_props">
                                        <div id="myflow_props_handle" class="ui-widget-header">属性</div>
                                        <table border="1" width="100%" cellpadding="0" cellspacing="0">

                                        </table>
                                    </div>
							</@ui.widget>
						</div>
					</div>
				</div>
				<!-- page-content end -->
			</div>
			<!-- Main end -->
        </div>

    </div>

    <div class="pop-editor-label" title="点击编辑" id="propEditer"  style="display: none"> ...
    </div>

    <div class="pop-editor-panel" id="enterPropDiv" style="display: none">
        <table id="enterProp"  cellpadding="0" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th class="pop-panel-header" colspan="4">进入条件配置<img src="${res}/myflow/img/close.png" class="pop-panel-close-btn"/></th>
                </tr>
                <tr>
                    <th></th>
                    <th width="30%">属性</th>
                    <th width="30%">添加符</th>
                    <th width="35%">条件值</th>
                </tr>
            </thead>

            <tbody>
                <tr style="display: none">
                    <td class="panel-row-btn">-</td>
                    <td >
                        <select name="propName" class="input-control condition_name">
                        </select>
                    </td>
                    <td class="width50">
                        <select name="propType" class="input-control condition_op">
                            <option> > </option>
                            <option> < </option>
                            <option> != </option>
                            <option> = </option>
                            <option> in </option>
                        </select>
                    </td>
                    <td>
                        <input type="text" name="propValue" class="input-control condition_value"/>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="panel-add-btn ">+</div>
    </div>

    <div class="pop-editor-panel" id="initPropDiv" style="display: none">
        <table id="initProp"  cellpadding="0" cellspacing="0" width="100%">
            <thead>
            <tr>
                <th class="pop-panel-header" colspan="4">进入条件配置<img src="${res}/myflow/img/close.png" class="pop-panel-close-btn"/></th>
            </tr>
            <tr>
                <th></th>
                <th width="30%">操作类型</th>
                <th width="30%">操作对象</th>
                <th width="35%">操作内容</th>
            </tr>
            </thead>

            <tbody>
            <tr style="display: none">
                <td class="panel-row-btn">-</td>
                <td >
                    <select name="propType" class="input-control condition_name">
                        <option>属性</option>
                    </select>
                </td>
                <td class="width50">
                    <select name="propName" class="input-control condition_op">

                    </select>
                </td>
                <td>
                    <input type="text" name="propValue" class="input-control condition_value"/>
                </td>
            </tr>
            </tbody>
        </table>
        <div class="panel-add-btn ">+</div>
    </div>
</body>
</html>